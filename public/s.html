<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cab Website - User Registration & Login</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background: #f8f9fa;
        }
        .form-section {
            background: #fff;
            border-radius: 1rem;
            box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.05);
            padding: 2rem;
            margin-top: 2rem;
        }
        .brand-logo {
            width: 60px;
            height: 60px;
            object-fit: contain;
        }
        .nav-tabs .nav-link.active {
            background-color: #0d6efd;
            color: #fff !important;
        }
        .form-control:focus {
            box-shadow: 0 0 0 0.2rem rgba(13,110,253,.25);
        }
        .input-group-text {
            background: #f1f1f1;
        }
        .form-check-label {
            margin-left: 0.5rem;
        }
        .social-btn {
            width: 100%;
            margin-bottom: 0.5rem;
        }
        .divider {
            text-align: center;
            margin: 1.5rem 0;
            position: relative;
        }
        .divider span {
            background: #fff;
            padding: 0 1rem;
            position: relative;
            z-index: 1;
        }
        .divider:before {
            content: '';
            display: block;
            border-top: 1px solid #dee2e6;
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            z-index: 0;
        }
        .password-strength {
            font-size: 0.9rem;
        }
        .form-error {
            color: #dc3545;
            font-size: 0.95rem;
        }
        .form-success {
            color: #198754;
            font-size: 0.95rem;
        }
        .cab-bg {
            background: url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=900&q=80') center/cover no-repeat;
            min-height: 100vh;
        }
        @media (max-width: 767px) {
            .form-section {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="cab-bg d-flex align-items-center justify-content-center">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-6 col-md-8">
                    <div class="form-section">
                        <div class="text-center mb-4">
                            <img src="https://cdn-icons-png.flaticon.com/512/2967/2967350.png" alt="Cab Logo" class="brand-logo mb-2">
                            <h2 class="fw-bold">Welcome to Cab Booking</h2>
                            <p class="text-muted">Register or Login to book your ride</p>
                        </div>
                        <ul class="nav nav-tabs mb-4" id="authTab" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="register-tab" data-bs-toggle="tab" data-bs-target="#register" type="button" role="tab" aria-controls="register" aria-selected="true">Register</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="login-tab" data-bs-toggle="tab" data-bs-target="#login" type="button" role="tab" aria-controls="login" aria-selected="false">Login</button>
                            </li>
                        </ul>
                        <div class="tab-content" id="authTabContent">
                            <!-- Registration Form -->
                            <div class="tab-pane fade show active" id="register" role="tabpanel" aria-labelledby="register-tab">
                                <form id="registerForm" novalidate autocomplete="off">
                                    <div class="mb-3">
                                        <label for="regFullName" class="form-label">Full Name</label>
                                        <input type="text" class="form-control" id="regFullName" name="fullName" required>
                                        <div class="invalid-feedback">Please enter your full name.</div>
                                    </div>
                                    <div class="mb-3">
                                        <label for="regEmail" class="form-label">Email address</label>
                                        <input type="email" class="form-control" id="regEmail" name="email" required>
                                        <div class="invalid-feedback">Please enter a valid email address.</div>
                                    </div>
                                    <div class="mb-3">
                                        <label for="regPhone" class="form-label">Phone Number</label>
                                        <input type="tel" class="form-control" id="regPhone" name="phone" pattern="^\d{10,15}$" required>
                                        <div class="invalid-feedback">Please enter a valid phone number.</div>
                                    </div>
                                    <div class="mb-3">
                                        <label for="regPassword" class="form-label">Password</label>
                                        <div class="input-group">
                                            <input type="password" class="form-control" id="regPassword" name="password" required minlength="8" aria-describedby="passwordHelpBlock">
                                            <button class="btn btn-outline-secondary" type="button" id="toggleRegPassword"><i class="bi bi-eye"></i></button>
                                        </div>
                                        <div id="passwordHelpBlock" class="form-text">
                                            Your password must be at least 8 characters long, contain uppercase, lowercase, number, and special character.
                                        </div>
                                        <div class="password-strength mt-1" id="passwordStrength"></div>
                                    </div>
                                    <div class="mb-3">
                                        <label for="regConfirmPassword" class="form-label">Confirm Password</label>
                                        <input type="password" class="form-control" id="regConfirmPassword" name="confirmPassword" required>
                                        <div class="invalid-feedback">Passwords do not match.</div>
                                    </div>
                                    <div class="mb-3">
                                        <label for="regAddress" class="form-label">Address</label>
                                        <textarea class="form-control" id="regAddress" name="address" rows="2" required></textarea>
                                        <div class="invalid-feedback">Please enter your address.</div>
                                    </div>
                                    <div class="mb-3">
                                        <label for="regCity" class="form-label">City</label>
                                        <input type="text" class="form-control" id="regCity" name="city" required>
                                        <div class="invalid-feedback">Please enter your city.</div>
                                    </div>
                                    <div class="mb-3">
                                        <label for="regState" class="form-label">State</label>
                                        <input type="text" class="form-control" id="regState" name="state" required>
                                        <div class="invalid-feedback">Please enter your state.</div>
                                    </div>
                                    <div class="mb-3">
                                        <label for="regZip" class="form-label">Zip Code</label>
                                        <input type="text" class="form-control" id="regZip" name="zip" pattern="^\d{4,10}$" required>
                                        <div class="invalid-feedback">Please enter a valid zip code.</div>
                                    </div>
                                    <div class="mb-3">
                                        <label for="regGender" class="form-label">Gender</label>
                                        <select class="form-select" id="regGender" name="gender" required>
                                            <option value="">Select gender</option>
                                            <option value="male">Male</option>
                                            <option value="female">Female</option>
                                            <option value="other">Other</option>
                                        </select>
                                        <div class="invalid-feedback">Please select your gender.</div>
                                    </div>
                                    <div class="mb-3">
                                        <label for="regDOB" class="form-label">Date of Birth</label>
                                        <input type="date" class="form-control" id="regDOB" name="dob" required>
                                        <div class="invalid-feedback">Please enter your date of birth.</div>
                                    </div>
                                    <div class="mb-3">
                                        <label for="regProfilePic" class="form-label">Profile Picture (optional)</label>
                                        <input type="file" class="form-control" id="regProfilePic" name="profilePic" accept="image/*">
                                    </div>
                                    <div class="mb-3 form-check">
                                        <input type="checkbox" class="form-check-input" id="regTerms" required>
                                        <label class="form-check-label" for="regTerms">I agree to the <a href="#">Terms & Conditions</a></label>
                                        <div class="invalid-feedback">You must agree before submitting.</div>
                                    </div>
                                    <div id="registerMsg" class="mb-3"></div>
                                    <button type="submit" class="btn btn-primary w-100">Register</button>
                                </form>
                                <div class="divider"><span>or</span></div>
                                <button class="btn btn-outline-primary social-btn"><i class="bi bi-google"></i> Register with Google</button>
                                <button class="btn btn-outline-dark social-btn"><i class="bi bi-facebook"></i> Register with Facebook</button>
                            </div>
                            <!-- Login Form -->
                            <div class="tab-pane fade" id="login" role="tabpanel" aria-labelledby="login-tab">
                                <form id="loginForm" novalidate autocomplete="off">
                                    <div class="mb-3">
                                        <label for="loginEmail" class="form-label">Email address</label>
                                        <input type="email" class="form-control" id="loginEmail" name="email" required>
                                        <div class="invalid-feedback">Please enter your email address.</div>
                                    </div>
                                    <div class="mb-3">
                                        <label for="loginPassword" class="form-label">Password</label>
                                        <div class="input-group">
                                            <input type="password" class="form-control" id="loginPassword" name="password" required>
                                            <button class="btn btn-outline-secondary" type="button" id="toggleLoginPassword"><i class="bi bi-eye"></i></button>
                                        </div>
                                    </div>
                                    <div class="mb-3 form-check">
                                        <input type="checkbox" class="form-check-input" id="loginRemember">
                                        <label class="form-check-label" for="loginRemember">Remember me</label>
                                    </div>
                                    <div class="mb-3">
                                        <a href="#" data-bs-toggle="modal" data-bs-target="#forgotPasswordModal">Forgot password?</a>
                                    </div>
                                    <div id="loginMsg" class="mb-3"></div>
                                    <button type="submit" class="btn btn-success w-100">Login</button>
                                </form>
                                <div class="divider"><span>or</span></div>
                                <button class="btn btn-outline-primary social-btn"><i class="bi bi-google"></i> Login with Google</button>
                                <button class="btn btn-outline-dark social-btn"><i class="bi bi-facebook"></i> Login with Facebook</button>
                            </div>
                        </div>
                    </div>
                    <!-- Footer -->
                    <div class="text-center mt-4 text-muted">
                        &copy; 2024 Cab Booking. All rights reserved.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Forgot Password Modal -->
    <div class="modal fade" id="forgotPasswordModal" tabindex="-1" aria-labelledby="forgotPasswordModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <form id="forgotPasswordForm" novalidate>
            <div class="modal-header">
              <h5 class="modal-title" id="forgotPasswordModalLabel">Forgot Password</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <div class="mb-3">
                <label for="forgotEmail" class="form-label">Enter your registered email</label>
                <input type="email" class="form-control" id="forgotEmail" required>
                <div class="invalid-feedback">Please enter your email address.</div>
              </div>
              <div id="forgotMsg" class="mb-2"></div>
            </div>
            <div class="modal-footer">
              <button type="submit" class="btn btn-primary">Send Reset Link</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Bootstrap 5 JS and Icons -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <script>
    // Password visibility toggles
    document.getElementById('toggleRegPassword').addEventListener('click', function() {
        const pwd = document.getElementById('regPassword');
        pwd.type = pwd.type === 'password' ? 'text' : 'password';
        this.innerHTML = pwd.type === 'password' ? '<i class="bi bi-eye"></i>' : '<i class="bi bi-eye-slash"></i>';
    });
    document.getElementById('toggleLoginPassword').addEventListener('click', function() {
        const pwd = document.getElementById('loginPassword');
        pwd.type = pwd.type === 'password' ? 'text' : 'password';
        this.innerHTML = pwd.type === 'password' ? '<i class="bi bi-eye"></i>' : '<i class="bi bi-eye-slash"></i>';
    });

    // Password strength checker
    document.getElementById('regPassword').addEventListener('input', function() {
        const val = this.value;
        const strength = getPasswordStrength(val);
        const strengthDiv = document.getElementById('passwordStrength');
        strengthDiv.textContent = strength.text;
        strengthDiv.style.color = strength.color;
    });

    function getPasswordStrength(password) {
        let score = 0;
        if (password.length >= 8) score++;
        if (/[A-Z]/.test(password)) score++;
        if (/[a-z]/.test(password)) score++;
        if (/\d/.test(password)) score++;
        if (/[\W_]/.test(password)) score++;
        if (score <= 2) return {text: 'Weak', color: '#dc3545'};
        if (score === 3) return {text: 'Moderate', color: '#ffc107'};
        if (score >= 4) return {text: 'Strong', color: '#198754'};
    }

    // Registration form validation and submission
    document.getElementById('registerForm').addEventListener('submit', function(e) {
        e.preventDefault();
        let form = this;
        let valid = true;
        // Validate all required fields
        form.querySelectorAll('[required]').forEach(function(input) {
            if (!input.value || (input.type === 'checkbox' && !input.checked)) {
                input.classList.add('is-invalid');
                valid = false;
            } else {
                input.classList.remove('is-invalid');
            }
        });
        // Email validation
        const email = form.regEmail.value.trim();
        if (!/^[\w\.-]+@[\w\.-]+\.\w{2,}$/.test(email)) {
            form.regEmail.classList.add('is-invalid');
            valid = false;
        }
        // Phone validation
        const phone = form.regPhone.value.trim();
        if (!/^\d{10,15}$/.test(phone)) {
            form.regPhone.classList.add('is-invalid');
            valid = false;
        }
        // Zip validation
        const zip = form.regZip.value.trim();
        if (!/^\d{4,10}$/.test(zip)) {
            form.regZip.classList.add('is-invalid');
            valid = false;
        }
        // Password validation
        const pwd = form.regPassword.value;
        if (!pwd.match(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{8,}$/)) {
            form.regPassword.classList.add('is-invalid');
            valid = false;
        } else {
            form.regPassword.classList.remove('is-invalid');
        }
        // Confirm password
        if (form.regConfirmPassword.value !== pwd) {
            form.regConfirmPassword.classList.add('is-invalid');
            valid = false;
        } else {
            form.regConfirmPassword.classList.remove('is-invalid');
        }
        // If valid, show success message (simulate registration)
        const msgDiv = document.getElementById('registerMsg');
        if (valid) {
            msgDiv.innerHTML = '<div class="form-success">Registration successful! You can now log in.</div>';
            form.reset();
            document.getElementById('passwordStrength').textContent = '';
        } else {
            msgDiv.innerHTML = '<div class="form-error">Please correct the errors above and try again.</div>';
        }
    });

    // Login form validation and submission
    document.getElementById('loginForm').addEventListener('submit', function(e) {
        e.preventDefault();
        let form = this;
        let valid = true;
        // Validate required fields
        form.querySelectorAll('[required]').forEach(function(input) {
            if (!input.value) {
                input.classList.add('is-invalid');
                valid = false;
            } else {
                input.classList.remove('is-invalid');
            }
        });
        // Email validation
        const email = form.loginEmail.value.trim();
        if (!/^[\w\.-]+@[\w\.-]+\.\w{2,}$/.test(email)) {
            form.loginEmail.classList.add('is-invalid');
            valid = false;
        }
        const msgDiv = document.getElementById('loginMsg');
        if (valid) {
            msgDiv.innerHTML = '<div class="form-success">Login successful! Redirecting...</div>';
            setTimeout(() => { msgDiv.innerHTML = ''; }, 2000);
            form.reset();
        } else {
            msgDiv.innerHTML = '<div class="form-error">Invalid credentials. Please try again.</div>';
        }
    });

    // Forgot password form
    document.getElementById('forgotPasswordForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const email = document.getElementById('forgotEmail');
        const msgDiv = document.getElementById('forgotMsg');
        if (!email.value || !/^[\w\.-]+@[\w\.-]+\.\w{2,}$/.test(email.value.trim())) {
            email.classList.add('is-invalid');
            msgDiv.innerHTML = '';
        } else {
            email.classList.remove('is-invalid');
            msgDiv.innerHTML = '<div class="form-success">Password reset link sent to your email.</div>';
            setTimeout(() => {
                msgDiv.innerHTML = '';
                var modal = bootstrap.Modal.getInstance(document.getElementById('forgotPasswordModal'));
                modal.hide();
            }, 2000);
        }
    });

    // Remove validation on input
    document.querySelectorAll('input, textarea, select').forEach(function(input) {
        input.addEventListener('input', function() {
            this.classList.remove('is-invalid');
        });
    });

    // Switch tab on success
    document.getElementById('registerForm').addEventListener('submit', function(e) {
        if (!e.defaultPrevented) return;
        const msgDiv = document.getElementById('registerMsg');
        if (msgDiv.textContent.includes('successful')) {
            setTimeout(() => {
                var tab = new bootstrap.Tab(document.querySelector('#login-tab'));
                tab.show();
            }, 1200);
        }
    });
    </script>
</body>
</html></select></div></li>